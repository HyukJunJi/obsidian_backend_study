
패킷은 pack + bucket의 합친말.

우체국에서 화물을 나누어 행선지를 표시하는 꼬리표를 붙이는것을 모방해 데이터 통신에 접목한것
![[Pasted image 20231026174512.png]]

![[Pasted image 20231026174419.png]]
맨 왼쪽부터 패킷의 구조를 보면

1. version: 사용 중인 IP버전을 식별하는 데 사용됩니다. 버전 4(구현된 IP의 첫 번째 프로덕션 버전) 또는 버전 6(현재 인터넷을 통해 구현 중인 프로세스) 중 하나만 선택할 수 있습니다. 이 예는 향후 10년 동안 가장 많이 접하게 될 것으로 예상되는 IPv4 헤더를 보여줍니다. 현재는 IPv6버전도 있다. ~~AWS에서 S3로 rdb를 열대 IPv4와 IPv6를 본 기억이 있다.~~
2. TTL(Time to Live): 이 패킷이 네트워크에 남아 있을 수 있는 시간. 이 패킷을 처리하는 각 [라우터](Router)는 이 카운터를 하나 이사 감소시킨다.
3. 프로토콜: IP패킷의 데이터 부분이 전달되는 전송 계층 프로토콜. TCP(Transmission Control Protocol)또는 [UDP (User Datagram Protocol)](https://www.notion.so/UDP-and-TCP-a024d07beca644aca85f953c47f6919d?pvs=21)입니다.
4. 헤더 체크섬: 검증 계산이 되는 헤더 체크섬 데이터는 헤더 데이터 일 뿐이며 해당 계산 결과는 헤더 체크섬 필드에 저장됩니다. 헤더가 손상되지 않는 경우 IP는 패킷이 양호하다고 간주합니다.
5. Src.Address(소스 주소): 패킷을 네트워크로 보내는 장치의 IP 주소입니다. ICMP(Internet Control Message Protocol) 전송 실패 또는 제어 메세지를 포함하여 네트워크 수준 오류 메세지가 전송되는 곳이기도 합니다.
6. Dst.Address(대상 주소): 패킷이 전송되는 주소입니다.
7. 데이터: 이더넷 프레임과 마찬가지로 데이터 부분이 전송 계층, TCP또는 UDP로 전송됩니다. IP는 여기서 찾은 것을 신경쓰지 않습니다. 그것은 단지 수단 일뿐입니다.
### 각 계층에서는 패킷에 어떤 헤더(header)들이 추가되는가?
[[OSI 7계층 TCP,IP 4계층]]중에 TCP/IP 4계층 기준으로 설명해보겠습니다

데이터를 전달하고 받기 위해서는 미리 약속된 통신 규약에 맞는 정보들이 필요합니다. 필요한 정보들은 대표적으로 어떤 내용?, 어떤 형식의 메세지?, 어떤 종류의 통신?, 어디로?등이 있습니다. 이러한 정보들을 한번에 추가하기에는 어렵기 때문에 각 계층에서 순서에 맞게 추가하여 데이터를 전송합니다. 받는측에서는 그의 역순으로 해제하여 데이터를 확인하게 됩니다.

위 그림은 데이터를 송신하는 컴퓨터와 수신하는 컴퓨터에서 일어나는 각 계층 헤더 추가 과정과 데이터를 수신받는 컴퓨터에서 일어나는 입니다. 모든 값들은 예시이기 때문에 어떤 종류의 값들이 들어갔는지 위주로만 보시면 됩니다. 각 계층은 계층마다의 데이터를 붙이거나 해석하는 **역할**이 존재합니다. 송신측은 **수신측이 알아야할 정보들을 각 계층에서 추가**하면서 데이터를 전달하고, 수신측은 **송신측이 보낸 정보들을 각 계층에서 해석**해 나가면서 데이터를 전달받습니다.

![사진](https://velog.velcdn.com/images%2Femplam27%2Fpost%2F3bc6e4ec-c289-418c-944c-c7b42708817a%2F%EB%8D%B0%EC%9D%B4%ED%84%B0%20%EC%A0%84%EB%8B%AC%20%EA%B3%BC%EC%A0%95.jpg)

[출처](https://velog.io/@emplam27/CS-%EA%B7%B8%EB%A6%BC%EC%9C%BC%EB%A1%9C-%EC%95%8C%EC%95%84%EB%B3%B4%EB%8A%94-%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EA%B3%84%EC%B8%B5%ED%99%94%EC%99%80-OSI-TCPIP-UDP%EC%9D%98-%ED%8A%B9%EC%A7%95%EA%B3%BC-%EC%B0%A8%EC%9D%B4%EC%A0%90)
